
<!DOCTYPE html>
<html>
<head>
    <!-- Mejoras para visualizaci√≥n m√≥vil -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        @media (max-width: 768px) {
            .folium-map {
                width: 100% !important;
                height: 60vh !important;
                min-height: 400px !important;
            }
            
            .leaflet-popup-content-wrapper {
                max-width: 85vw !important;
                max-height: 45vh !important;
                overflow-y: auto !important;
                border-radius: 8px !important;
            }
            
            .leaflet-popup-content {
                margin: 8px 12px !important;
                font-size: 13px !important;
                line-height: 1.4 !important;
            }
            
            .leaflet-popup-content table {
                width: 100% !important;
                font-size: 11px !important;
                overflow-x: auto !important;
                display: block !important;
                white-space: nowrap !important;
            }
            
            .leaflet-popup-content table th,
            .leaflet-popup-content table td {
                padding: 3px 5px !important;
                border: 1px solid #ddd !important;
                max-width: 120px !important;
                word-wrap: break-word !important;
                white-space: normal !important;
            }
            
            .leaflet-tooltip {
                font-size: 11px !important;
                padding: 4px 6px !important;
                max-width: 200px !important;
                white-space: normal !important;
            }
            
            .leaflet-control-zoom a {
                width: 35px !important;
                height: 35px !important;
                font-size: 16px !important;
            }
            
            .leaflet-control-layers {
                max-width: 200px !important;
                font-size: 12px !important;
            }
            
            div[style*="position: fixed"][style*="right: 20px"] {
                position: fixed !important;
                top: 10px !important;
                right: 5px !important;
                width: 280px !important;
                max-width: 85vw !important;
                max-height: 70vh !important;
                overflow-y: auto !important;
                z-index: 1000 !important;
                transition: transform 0.3s ease !important;
            }
            
            .sidebar-collapsed {
                transform: translateX(calc(100% + 10px)) !important;
            }
            
            .mobile-toggle-btn {
                position: fixed !important;
                top: 10px !important;
                right: 10px !important;
                z-index: 1001 !important;
                background: #006847 !important;
                color: white !important;
                border: none !important;
                border-radius: 50% !important;
                width: 40px !important;
                height: 40px !important;
                font-size: 18px !important;
                cursor: pointer !important;
                box-shadow: 0 2px 8px rgba(0,0,0,0.3) !important;
            }
            
            div[style*="position: fixed"][style*="bottom: 50px"] {
                position: fixed !important;
                bottom: 10px !important;
                left: 5px !important;
                width: 180px !important;
                max-width: 85vw !important;
                font-size: 11px !important;
            }
            
            h3[style*="font-size:22px"] {
                font-size: 16px !important;
                margin: 5px 0 !important;
                padding: 5px !important;
            }
        }
        
        @media (max-width: 480px) {
            .folium-map {
                height: 55vh !important;
                min-height: 350px !important;
            }
            
            .leaflet-popup-content-wrapper {
                max-width: 95vw !important;
                max-height: 40vh !important;
            }
            
            div[style*="position: fixed"][style*="right: 20px"] {
                width: 250px !important;
                max-width: 90vw !important;
            }
        }
    </style>
    
    <title>√çndice de Mapas - IMSS Bienestar</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background-color: #f8f9fa; }
        .header { text-align: center; color: #006847; margin-bottom: 30px; }
        .municipio-card { 
            background: white; margin: 10px 0; padding: 15px; border-radius: 8px; 
            border-left: 4px solid #006847; box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }
        .municipio-card:hover { transform: translateY(-2px); }
        .municipio-link { 
            text-decoration: none; color: #006847; font-weight: bold; font-size: 16px;
        }
        .unidades-count { color: #4A9B3A; font-size: 14px; margin-top: 5px; }
        .total-summary { 
            background: #006847; color: white; padding: 20px; border-radius: 8px; 
            text-align: center; margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üó∫Ô∏è MAPAS MUNICIPALES - IMSS BIENESTAR</h1>
        <p>Regi√≥n Tula - Tepeji del R√≠o</p>
    </div>

    <div class="total-summary">
        <h3>üìä Resumen General</h3>
        <p><strong>11</strong> municipios ‚Ä¢ <strong>69</strong> unidades de salud</p>
    </div>

    <div class="mapas-lista">

        <div class="municipio-card">
            <a href="mapa_tula_de_allende.html" class="municipio-link">Tula de Allende</a>
            <div class="unidades-count">üìç 18 unidades de salud</div>
        </div>
    
        <div class="municipio-card">
            <a href="mapa_tepeji_del_rio_de_ocampo.html" class="municipio-link">Tepeji del R√≠o de Ocampo</a>
            <div class="unidades-count">üìç 7 unidades de salud</div>
        </div>
    
        <div class="municipio-card">
            <a href="mapa_atitalaquia.html" class="municipio-link">Atitalaquia</a>
            <div class="unidades-count">üìç 7 unidades de salud</div>
        </div>
    
        <div class="municipio-card">
            <a href="mapa_tlaxcoapan.html" class="municipio-link">Tlaxcoapan</a>
            <div class="unidades-count">üìç 3 unidades de salud</div>
        </div>
    
        <div class="municipio-card">
            <a href="mapa_atotonilco_de_tula.html" class="municipio-link">Atotonilco de Tula</a>
            <div class="unidades-count">üìç 4 unidades de salud</div>
        </div>
    
        <div class="municipio-card">
            <a href="mapa_tetepango.html" class="municipio-link">Tetepango</a>
            <div class="unidades-count">üìç 2 unidades de salud</div>
        </div>
    
        <div class="municipio-card">
            <a href="mapa_tepetitl√°n.html" class="municipio-link">Tepetitl√°n</a>
            <div class="unidades-count">üìç 4 unidades de salud</div>
        </div>
    
        <div class="municipio-card">
            <a href="mapa_tlahuelilpan.html" class="municipio-link">Tlahuelilpan</a>
            <div class="unidades-count">üìç 4 unidades de salud</div>
        </div>
    
        <div class="municipio-card">
            <a href="mapa_tezontepec_de_aldama.html" class="municipio-link">Tezontepec de Aldama</a>
            <div class="unidades-count">üìç 11 unidades de salud</div>
        </div>
    
        <div class="municipio-card">
            <a href="mapa_chapantongo.html" class="municipio-link">Chapantongo</a>
            <div class="unidades-count">üìç 4 unidades de salud</div>
        </div>
    
        <div class="municipio-card">
            <a href="mapa_nopala_de_villagr√°n.html" class="municipio-link">Nopala de Villagr√°n</a>
            <div class="unidades-count">üìç 5 unidades de salud</div>
        </div>
    
    </div>

    <div style="text-align: center; margin-top: 30px; color: #666; font-size: 12px;">
        <p>Generado el 31/07/2025 19:12 ‚Ä¢ IMSS Bienestar</p>
    </div>

    <script>
        // Mejoras m√≥viles para mapas Folium
        (function() {
            function isMobile() {
                return window.innerWidth <= 768;
            }
            
            if (isMobile()) {
                document.addEventListener('DOMContentLoaded', function() {
                    // Crear botones toggle para sidebars
                    const sidebars = document.querySelectorAll('div[style*="position: fixed"][style*="right"]');
                    sidebars.forEach((sidebar, index) => {
                        const btn = document.createElement('button');
                        btn.className = 'mobile-toggle-btn';
                        btn.innerHTML = 'üìã';
                        btn.style.top = (60 + index * 50) + 'px';
                        btn.title = 'Mostrar/Ocultar informaci√≥n';
                        
                        let collapsed = false;
                        btn.onclick = function() {
                            collapsed = !collapsed;
                            sidebar.style.transform = collapsed ? 'translateX(calc(100% + 10px))' : 'translateX(0)';
                            btn.innerHTML = collapsed ? 'üìÇ' : 'üìã';
                        };
                        
                        document.body.appendChild(btn);
                        
                        // Auto-colapsar en pantallas muy peque√±as
                        if (window.innerWidth <= 480) {
                            setTimeout(() => btn.click(), 1000);
                        }
                    });
                    
                    // Mejorar popups cuando se abren
                    const observer = new MutationObserver(function(mutations) {
                        mutations.forEach(function(mutation) {
                            mutation.addedNodes.forEach(function(node) {
                                if (node.nodeType === 1 && node.classList && node.classList.contains('leaflet-popup')) {
                                    const content = node.querySelector('.leaflet-popup-content');
                                    if (content) {
                                        // Hacer tablas scrollables
                                        const tables = content.querySelectorAll('table');
                                        tables.forEach(table => {
                                            const wrapper = document.createElement('div');
                                            wrapper.style.overflowX = 'auto';
                                            wrapper.style.maxWidth = '100%';
                                            table.parentNode.insertBefore(wrapper, table);
                                            wrapper.appendChild(table);
                                        });
                                    }
                                }
                            });
                        });
                    });
                    
                    observer.observe(document.body, {
                        childList: true,
                        subtree: true
                    });
                    
                    console.log('üì± Mejoras m√≥viles aplicadas');
                });
                
                // Redimensionar mapa al cambiar orientaci√≥n
                window.addEventListener('orientationchange', function() {
                    setTimeout(function() {
                        const maps = document.querySelectorAll('.folium-map');
                        maps.forEach(map => {
                            if (map._leaflet_map) {
                                map._leaflet_map.invalidateSize();
                            }
                        });
                    }, 500);
                });
            }
        })();
    </script>
    </body>
</html>
